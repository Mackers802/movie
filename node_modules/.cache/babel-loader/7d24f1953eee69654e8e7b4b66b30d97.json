{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/mackyandow/V_School/DEV/Assignments/level-4/destination/src/Context.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nconst {\n  Provider,\n  Consumer\n} = /*#__PURE__*/React.createContext();\n\nclass Context extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      // Api Call data for state\n      title: \"\",\n      overview: \"\",\n      release_date: \"\",\n      backdrop_path: \"\",\n      id: \"\",\n      // Extra state\n      name: \"\",\n      starRating: false,\n      textbox: \"\",\n      reviews: [],\n      rating: \"\"\n    };\n\n    this.componentDidMount = () => {\n      console.log(\"did mount\");\n      this.requestMovie();\n    };\n\n    this.requestMovie = e => {\n      // const randomPage = Math.floor(Math.random() * 2);\n      // console.log(randomPage);\n      const random = Math.floor(Math.random() * 20); // console.log(random);\n\n      axios.get(`https://api.themoviedb.org/3/movie/top_rated?api_key=d246833b98ed7223e0d531d6ef59d00f&language=en-US&page=4`) // ${randomPage}\n      // (`https://api.themoviedb.org/3/movie/top_rated?api_key=d246833b98ed7223e0d531d6ef59d00f&language=en-US&page=1`)\n      .then(res => {\n        this.setState({\n          title: res.data.results[random].title,\n          overview: res.data.results[random].overview,\n          release_date: res.data.results[random].release_date,\n          backdrop_path: `https://www.themoviedb.org/t/p/w533_and_h300_bestv2${res.data.results[random].backdrop_path}`,\n          id: res.data.results[random].id\n        });\n      });\n    };\n\n    this.handleClickChooseNewMovie = () => {\n      console.log(\"Shuffle\");\n      this.componentDidMount();\n      this.setState({\n        title: \"\",\n        overview: \"\",\n        release_date: \"\",\n        backdrop_path: \"\",\n        id: \"\"\n      });\n    };\n\n    this.handleClickReview = () => {\n      /*#__PURE__*/\n      _jsxDEV(Link, {\n        to: \"/Reviews\",\n        children: \" \\u2B50\\u2B50\\u2B50 \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 5\n      }, this);\n\n      console.log(\"To Review\");\n    };\n\n    this.handleChange = e => {\n      const {\n        name,\n        value\n      } = e.target;\n      this.setState(prevState => {\n        return { ...prevState,\n          // starRating: ...starRating, \n          // textbox: ...this.state.textbox,\n          [name]: value\n        };\n      });\n    };\n\n    this.onValueChange = e => {\n      const {\n        value\n      } = e.target;\n      this.setState(prevState => {\n        return { ...prevState,\n          starRating: value\n        };\n      });\n    };\n\n    this.submitReview = e => {\n      e.preventDefault();\n      console.log(\"submit\");\n      this.setState(prevState => {\n        const rating = {\n          starRating: this.state.starRating,\n          textbox: this.state.textbox,\n          name: this.state.name\n        };\n        return { ...prevState,\n          reviews: [...prevState.reviews, rating],\n          // starRating: false,\n          textbox: \"\",\n          name: \"\"\n        };\n      }); // console.log(this.state.reviews)\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Provider, {\n      value: {\n        title: this.state.title,\n        overview: this.state.overview,\n        release_date: this.state.release_date,\n        backdrop_path: this.state.backdrop_path,\n        id: this.state.id,\n        starRating: this.state.starRating,\n        textbox: this.state.textbox,\n        name: this.state.name,\n        reviews: this.state.reviews,\n        handleChange: this.handleChange,\n        onValueChange: this.onValueChange,\n        handleClickReview: this.handleClickReview,\n        handleClickChooseNewMovie: this.handleClickChooseNewMovie,\n        submitReview: this.submitReview\n      },\n      children: this.props.children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport { Context, Consumer }; // State to handle Form change\n//   handleChange = (e) => {\n//     e.preventDefault()\n//     const {name, value} = e.target\n//     this.setState(prevState => {\n//         return{...prevState,\n//             [name] : value\n//         }\n//     })\n// }\n//   onValueChange = (e) => {\n//     e.preventDefault();\n//     this.setState({\n//       selectedOption: e.target.value,\n//     });\n//   };\n//   formSubmit = (e) => {\n//     e.preventDefault();\n//     console.log(\"form submitted\");\n//     this.setState(prevState => {\n//         const review = {\n//         }\n//     })\n//   }","map":{"version":3,"sources":["/Users/mackyandow/V_School/DEV/Assignments/level-4/destination/src/Context.js"],"names":["React","Component","Link","axios","Provider","Consumer","createContext","Context","state","title","overview","release_date","backdrop_path","id","name","starRating","textbox","reviews","rating","componentDidMount","console","log","requestMovie","e","random","Math","floor","get","then","res","setState","data","results","handleClickChooseNewMovie","handleClickReview","handleChange","value","target","prevState","onValueChange","submitReview","preventDefault","render","props","children"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst { Provider, Consumer } = React.createContext();\n\nclass Context extends Component {\n  state = {\n    // Api Call data for state\n    title: \"\",\n    overview: \"\",\n    release_date: \"\",\n    backdrop_path: \"\",\n    id: \"\",\n    // Extra state\n    name: \"\",\n    starRating: false,\n    textbox: \"\",\n    reviews: [],\n    rating: \"\"\n  };\n\n  // Action 1)\n  componentDidMount = () => {\n    console.log(\"did mount\");\n    this.requestMovie();\n  };\n\n  // Action 2)\n  requestMovie = (e) => {\n    // const randomPage = Math.floor(Math.random() * 2);\n    // console.log(randomPage);\n    const random = Math.floor(Math.random() * 20);\n    // console.log(random);\n\n    axios\n      .get(\n        `https://api.themoviedb.org/3/movie/top_rated?api_key=d246833b98ed7223e0d531d6ef59d00f&language=en-US&page=4`\n      )\n      // ${randomPage}\n      // (`https://api.themoviedb.org/3/movie/top_rated?api_key=d246833b98ed7223e0d531d6ef59d00f&language=en-US&page=1`)\n      .then((res) => {\n        this.setState({\n          title: res.data.results[random].title,\n          overview: res.data.results[random].overview,\n          release_date: res.data.results[random].release_date,\n          backdrop_path: `https://www.themoviedb.org/t/p/w533_and_h300_bestv2${res.data.results[random].backdrop_path}`,\n          id: res.data.results[random].id,\n        });\n      });\n  };\n\n  // Potential action 3)\n  handleClickChooseNewMovie = () => {\n    console.log(\"Shuffle\");\n    this.componentDidMount()\n    this.setState( {\n        title: \"\",\n          overview: \"\",\n          release_date: \"\",\n          backdrop_path: \"\",\n          id: \"\",\n    });\n\n  };\n\n  // Reviews button / Link\n\n  handleClickReview = () => {\n    <Link to=\"/Reviews\"> ⭐⭐⭐ </Link>;\n    console.log(\"To Review\");\n  };\n\n  handleChange = (e) => {\n    const { name, value } = e.target;\n    this.setState(prevState => {\n      return{\n        ...prevState,\n        // starRating: ...starRating, \n        // textbox: ...this.state.textbox,\n        [name]: value,\n      }\n    });\n  };\n\n  // handles the radio button\n  onValueChange = (e) => {\n    const { value } = e.target;\n    this.setState(prevState => {\n      return {\n        ...prevState,\n        starRating: value,\n      };\n    });\n  };\n\n  submitReview = (e) => {\n    e.preventDefault();\n    console.log(\"submit\")\n    this.setState(prevState => {\n      const rating = {\n        starRating: this.state.starRating,\n        textbox: this.state.textbox,\n        name: this.state.name\n      };\n      return {\n        ...prevState,\n        reviews: [...prevState.reviews, rating],\n        // starRating: false,\n        textbox: \"\",\n        name: \"\",\n      };\n    });\n    // console.log(this.state.reviews)\n  };\n\n\n  render() {\n    return (\n      <Provider\n        value={{\n          title: this.state.title,\n          overview: this.state.overview,\n          release_date: this.state.release_date,\n          backdrop_path: this.state.backdrop_path,\n          id: this.state.id,\n          starRating: this.state.starRating,\n          textbox: this.state.textbox,\n          name: this.state.name,\n          reviews: this.state.reviews,\n          handleChange: this.handleChange,\n          onValueChange: this.onValueChange,\n          handleClickReview: this.handleClickReview,\n          handleClickChooseNewMovie: this.handleClickChooseNewMovie,\n          submitReview: this.submitReview,\n        }}\n      >\n        {this.props.children}\n      </Provider>\n    );\n  }\n}\n\nexport { Context, Consumer };\n\n// State to handle Form change\n//   handleChange = (e) => {\n//     e.preventDefault()\n//     const {name, value} = e.target\n//     this.setState(prevState => {\n//         return{...prevState,\n//             [name] : value\n//         }\n//     })\n// }\n//   onValueChange = (e) => {\n//     e.preventDefault();\n//     this.setState({\n//       selectedOption: e.target.value,\n//     });\n//   };\n\n//   formSubmit = (e) => {\n//     e.preventDefault();\n//     console.log(\"form submitted\");\n//     this.setState(prevState => {\n//         const review = {\n\n//         }\n//     })\n//   }\n"]},"metadata":{},"sourceType":"module"}