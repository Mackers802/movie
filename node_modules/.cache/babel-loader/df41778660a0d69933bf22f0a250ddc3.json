{"ast":null,"code":"import _toConsumableArray from\"/Users/mackyandow/V_School/DEV/movies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"/Users/mackyandow/V_School/DEV/movies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/mackyandow/V_School/DEV/movies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"/Users/mackyandow/V_School/DEV/movies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mackyandow/V_School/DEV/movies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/mackyandow/V_School/DEV/movies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/mackyandow/V_School/DEV/movies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Link}from\"react-router-dom\";import axios from\"axios\";var _React$createContext=/*#__PURE__*/React.createContext(),Provider=_React$createContext.Provider,Consumer=_React$createContext.Consumer;var Context=/*#__PURE__*/function(_Component){_inherits(Context,_Component);var _super=_createSuper(Context);function Context(){var _this;_classCallCheck(this,Context);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={// Api Call data for state\ntitle:\"\",overview:\"\",release_date:\"\",backdrop_path:\"\",id:\"\",// Extra state\nname:\"\",starRating:false,textbox:\"\",reviews:[],rating:\"\"};_this.componentDidMount=function(){console.log(\"did mount\");_this.requestMovie();};_this.requestMovie=function(e){var random=Math.floor(Math.random()*20);axios.get(\"https://api.themoviedb.org/3/movie/top_rated?api_key=d246833b98ed7223e0d531d6ef59d00f&language=en-US&page=4\").then(function(res){_this.setState({title:res.data.results[random].title,overview:res.data.results[random].overview,release_date:res.data.results[random].release_date,backdrop_path:\"https://www.themoviedb.org/t/p/w533_and_h300_bestv2\".concat(res.data.results[random].backdrop_path),id:res.data.results[random].id});});};_this.handleClickChooseNewMovie=function(){console.log(\"Shuffle\");_this.requestMovie();_this.clearState();};_this.clearState=function(){_this.setState(_this.baseState);};_this.handleClickReview=function(){/*#__PURE__*/_jsx(Link,{to:\"/Reviews\",children:\" \\u2B50\\u2B50\\u2B50 \"});console.log(\"To Review\");};_this.handleChange=function(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;_this.setState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},name,value));});};_this.onValueChange=function(e){var value=e.target.value;_this.setState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{starRating:value});});};_this.submitReview=function(e){e.preventDefault();console.log(\"submit\");_this.setState(function(prevState){var rating={starRating:_this.state.starRating,textbox:_this.state.textbox,name:_this.state.name};return _objectSpread(_objectSpread({},prevState),{},{reviews:[].concat(_toConsumableArray(prevState.reviews),[rating]),textbox:\"\",name:\"\"});});};return _this;}_createClass(Context,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(Provider,{value:{title:this.state.title,overview:this.state.overview,release_date:this.state.release_date,backdrop_path:this.state.backdrop_path,id:this.state.id,starRating:this.state.starRating,textbox:this.state.textbox,name:this.state.name,reviews:this.state.reviews,handleChange:this.handleChange,onValueChange:this.onValueChange,handleClickReview:this.handleClickReview,handleClickChooseNewMovie:this.handleClickChooseNewMovie,submitReview:this.submitReview},children:this.props.children});}}]);return Context;}(Component);export{Context,Consumer};","map":{"version":3,"sources":["/Users/mackyandow/V_School/DEV/movies/src/Context.js"],"names":["React","Component","Link","axios","createContext","Provider","Consumer","Context","state","title","overview","release_date","backdrop_path","id","name","starRating","textbox","reviews","rating","componentDidMount","console","log","requestMovie","e","random","Math","floor","get","then","res","setState","data","results","handleClickChooseNewMovie","clearState","baseState","handleClickReview","handleChange","target","value","prevState","onValueChange","submitReview","preventDefault","props","children"],"mappings":"wmCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,sCAE+BH,KAAK,CAACI,aAAN,E,CAAvBC,Q,sBAAAA,Q,CAAUC,Q,sBAAAA,Q,IAEZC,CAAAA,O,+TACJC,K,CAAQ,CACN;AACAC,KAAK,CAAE,EAFD,CAGNC,QAAQ,CAAE,EAHJ,CAINC,YAAY,CAAE,EAJR,CAKNC,aAAa,CAAE,EALT,CAMNC,EAAE,CAAE,EANE,CAON;AACAC,IAAI,CAAE,EARA,CASNC,UAAU,CAAE,KATN,CAUNC,OAAO,CAAE,EAVH,CAWNC,OAAO,CAAE,EAXH,CAYNC,MAAM,CAAE,EAZF,C,OAgBRC,iB,CAAoB,UAAM,CACxBC,OAAO,CAACC,GAAR,CAAY,WAAZ,EACA,MAAKC,YAAL,GACD,C,OAGDA,Y,CAAe,SAACC,CAAD,CAAO,CACpB,GAAMC,CAAAA,MAAM,CAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACD,MAAL,GAAgB,EAA3B,CAAf,CAEArB,KAAK,CACFwB,GADH,gHAIGC,IAJH,CAIQ,SAACC,GAAD,CAAS,CACb,MAAKC,QAAL,CAAc,CACZrB,KAAK,CAAEoB,GAAG,CAACE,IAAJ,CAASC,OAAT,CAAiBR,MAAjB,EAAyBf,KADpB,CAEZC,QAAQ,CAAEmB,GAAG,CAACE,IAAJ,CAASC,OAAT,CAAiBR,MAAjB,EAAyBd,QAFvB,CAGZC,YAAY,CAAEkB,GAAG,CAACE,IAAJ,CAASC,OAAT,CAAiBR,MAAjB,EAAyBb,YAH3B,CAIZC,aAAa,8DAAwDiB,GAAG,CAACE,IAAJ,CAASC,OAAT,CAAiBR,MAAjB,EAAyBZ,aAAjF,CAJD,CAKZC,EAAE,CAAEgB,GAAG,CAACE,IAAJ,CAASC,OAAT,CAAiBR,MAAjB,EAAyBX,EALjB,CAAd,EAOD,CAZH,EAaD,C,OAGDoB,yB,CAA4B,UAAM,CAChCb,OAAO,CAACC,GAAR,CAAY,SAAZ,EACA,MAAKC,YAAL,GACA,MAAKY,UAAL,GACD,C,OAEDA,U,CAAa,UAAM,CACf,MAAKJ,QAAL,CAAc,MAAKK,SAAnB,EACH,C,OAIDC,iB,CAAoB,UAAM,CACxB,kBAAC,IAAD,EAAM,EAAE,CAAC,UAAT,mCACAhB,OAAO,CAACC,GAAR,CAAY,WAAZ,EACD,C,OAEDgB,Y,CAAe,SAACd,CAAD,CAAO,eACIA,CAAC,CAACe,MADN,CACZxB,IADY,WACZA,IADY,CACNyB,KADM,WACNA,KADM,CAEpB,MAAKT,QAAL,CAAc,SAAAU,SAAS,CAAI,CACzB,sCACKA,SADL,wBAEG1B,IAFH,CAEUyB,KAFV,GAID,CALD,EAMD,C,OAGDE,a,CAAgB,SAAClB,CAAD,CAAO,IACbgB,CAAAA,KADa,CACHhB,CAAC,CAACe,MADC,CACbC,KADa,CAErB,MAAKT,QAAL,CAAc,SAAAU,SAAS,CAAI,CACzB,sCACKA,SADL,MAEEzB,UAAU,CAAEwB,KAFd,GAID,CALD,EAMD,C,OAEDG,Y,CAAe,SAACnB,CAAD,CAAO,CACpBA,CAAC,CAACoB,cAAF,GACAvB,OAAO,CAACC,GAAR,CAAY,QAAZ,EACA,MAAKS,QAAL,CAAc,SAAAU,SAAS,CAAI,CACzB,GAAMtB,CAAAA,MAAM,CAAG,CACbH,UAAU,CAAE,MAAKP,KAAL,CAAWO,UADV,CAEbC,OAAO,CAAE,MAAKR,KAAL,CAAWQ,OAFP,CAGbF,IAAI,CAAE,MAAKN,KAAL,CAAWM,IAHJ,CAAf,CAKA,sCACK0B,SADL,MAEEvB,OAAO,8BAAMuB,SAAS,CAACvB,OAAhB,GAAyBC,MAAzB,EAFT,CAGEF,OAAO,CAAE,EAHX,CAIEF,IAAI,CAAE,EAJR,GAMD,CAZD,EAaD,C,0EAGQ,CACP,mBACE,KAAC,QAAD,EACE,KAAK,CAAE,CACLL,KAAK,CAAE,KAAKD,KAAL,CAAWC,KADb,CAELC,QAAQ,CAAE,KAAKF,KAAL,CAAWE,QAFhB,CAGLC,YAAY,CAAE,KAAKH,KAAL,CAAWG,YAHpB,CAILC,aAAa,CAAE,KAAKJ,KAAL,CAAWI,aAJrB,CAKLC,EAAE,CAAE,KAAKL,KAAL,CAAWK,EALV,CAMLE,UAAU,CAAE,KAAKP,KAAL,CAAWO,UANlB,CAOLC,OAAO,CAAE,KAAKR,KAAL,CAAWQ,OAPf,CAQLF,IAAI,CAAE,KAAKN,KAAL,CAAWM,IARZ,CASLG,OAAO,CAAE,KAAKT,KAAL,CAAWS,OATf,CAULoB,YAAY,CAAE,KAAKA,YAVd,CAWLI,aAAa,CAAE,KAAKA,aAXf,CAYLL,iBAAiB,CAAE,KAAKA,iBAZnB,CAaLH,yBAAyB,CAAE,KAAKA,yBAb3B,CAcLS,YAAY,CAAE,KAAKA,YAdd,CADT,UAkBG,KAAKE,KAAL,CAAWC,QAlBd,EADF,CAsBD,C,qBA1HmB5C,S,EA6HtB,OAASM,OAAT,CAAkBD,QAAlB","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst { Provider, Consumer } = React.createContext();\n\nclass Context extends Component {\n  state = {\n    // Api Call data for state\n    title: \"\",\n    overview: \"\",\n    release_date: \"\",\n    backdrop_path: \"\",\n    id: \"\",\n    // Extra state\n    name: \"\",\n    starRating: false,\n    textbox: \"\",\n    reviews: [],\n    rating: \"\"\n  };\n\n  // Action 1)\n  componentDidMount = () => {\n    console.log(\"did mount\");\n    this.requestMovie();\n  };\n\n  // Action 2)\n  requestMovie = (e) => {\n    const random = Math.floor(Math.random() * 20);\n\n    axios\n      .get(\n        `https://api.themoviedb.org/3/movie/top_rated?api_key=d246833b98ed7223e0d531d6ef59d00f&language=en-US&page=4`\n      )\n      .then((res) => {\n        this.setState({\n          title: res.data.results[random].title,\n          overview: res.data.results[random].overview,\n          release_date: res.data.results[random].release_date,\n          backdrop_path: `https://www.themoviedb.org/t/p/w533_and_h300_bestv2${res.data.results[random].backdrop_path}`,\n          id: res.data.results[random].id,\n        });\n      });\n  };\n\n  // Potential action 3)\n  handleClickChooseNewMovie = () => {\n    console.log(\"Shuffle\");\n    this.requestMovie()\n    this.clearState()\n  };\n\n  clearState = () => {\n      this.setState(this.baseState)\n  }\n\n  // Reviews button / Link\n\n  handleClickReview = () => {\n    <Link to=\"/Reviews\"> ⭐⭐⭐ </Link>;\n    console.log(\"To Review\");\n  };\n\n  handleChange = (e) => {\n    const { name, value } = e.target;\n    this.setState(prevState => {\n      return{\n        ...prevState,\n        [name]: value,\n      }\n    });\n  };\n\n  // handles the radio button\n  onValueChange = (e) => {\n    const { value } = e.target;\n    this.setState(prevState => {\n      return {\n        ...prevState,\n        starRating: value,\n      };\n    });\n  };\n\n  submitReview = (e) => {\n    e.preventDefault();\n    console.log(\"submit\")\n    this.setState(prevState => {\n      const rating = {\n        starRating: this.state.starRating,\n        textbox: this.state.textbox,\n        name: this.state.name\n      };\n      return {\n        ...prevState,\n        reviews: [...prevState.reviews, rating],\n        textbox: \"\",\n        name: \"\",\n      };\n    });\n  };\n\n\n  render() {\n    return (\n      <Provider\n        value={{\n          title: this.state.title,\n          overview: this.state.overview,\n          release_date: this.state.release_date,\n          backdrop_path: this.state.backdrop_path,\n          id: this.state.id,\n          starRating: this.state.starRating,\n          textbox: this.state.textbox,\n          name: this.state.name,\n          reviews: this.state.reviews,\n          handleChange: this.handleChange,\n          onValueChange: this.onValueChange,\n          handleClickReview: this.handleClickReview,\n          handleClickChooseNewMovie: this.handleClickChooseNewMovie,\n          submitReview: this.submitReview,\n        }}\n      >\n        {this.props.children}\n      </Provider>\n    );\n  }\n}\n\nexport { Context, Consumer };"]},"metadata":{},"sourceType":"module"}